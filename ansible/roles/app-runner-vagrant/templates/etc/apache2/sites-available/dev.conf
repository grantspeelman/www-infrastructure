<VirtualHost *:80>
    ServerName www.groc.dev
    DocumentRoot /vagrant/public
    PassengerMinInstances 0
    PassengerAppEnv development

    <Directory /vagrant/public>
        Allow from all
        Options -MultiViews
        Require all granted
    </Directory>
</VirtualHost>

<VirtualHost *:443>
    ServerName www.groc.dev
    DocumentRoot /vagrant/public
    PassengerMinInstances 0
    PassengerAppEnv development

    <Directory /vagrant/public>
        Allow from all
        Options -MultiViews
        Require all granted
    </Directory>

    # ssl details
    SSLEngine on
    SSLCertificateFile /vagrant/public/groc-dev.crt
    SSLCertificateKeyFile /vagrant/public/groc-dev.key

    # rails needs the header for its own processing
    RequestHeader set X_FORWARDED_PROTO 'https'
</VirtualHost>